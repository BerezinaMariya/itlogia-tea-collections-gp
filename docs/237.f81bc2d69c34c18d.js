"use strict";(self.webpackChunktea_collections_gp=self.webpackChunktea_collections_gp||[]).push([[237],{5237:(J,s,o)=>{o.r(s),o.d(s,{OrderModule:()=>N});var a=o(6895),i=o(646),t=o(433),u=o(8256),c=o(773);function p(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043c\u044f. "),u.qZA())}function _(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b. "),u.qZA())}function v(r,n){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,p,2,0,"div",32),u.YNc(2,_,2,0,"div",32),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.name||null==e.name.errors?null:e.name.errors.pattern)}}function f(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e. "),u.qZA())}function g(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b. "),u.qZA())}function h(r,n){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,f,2,0,"div",32),u.YNc(2,g,2,0,"div",32),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.last_name||null==e.last_name.errors?null:e.last_name.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.last_name||null==e.last_name.errors?null:e.last_name.errors.pattern)}}function x(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d. "),u.qZA())}function Z(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u0412 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c 11 \u0446\u0438\u0444\u0440. "),u.qZA())}function C(r,n){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,x,2,0,"div",32),u.YNc(2,Z,2,0,"div",32),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.phone||null==e.phone.errors?null:e.phone.errors.pattern)}}function F(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443. "),u.qZA())}function A(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441. "),u.qZA())}function y(r,n){1&r&&(u.TgZ(0,"div",31),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u043e\u0432\u0430\u0440. "),u.qZA())}function b(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u043a\u0430\u0436\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441. "),u.qZA())}function T(r,n){1&r&&(u.TgZ(0,"div",33),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0434\u0435\u0444\u0438\u0441 \u0438 \u0441\u043b\u0435\u0448. "),u.qZA())}function q(r,n){if(1&r&&(u.TgZ(0,"div",31),u.YNc(1,b,2,0,"div",32),u.YNc(2,T,2,0,"div",32),u.qZA()),2&r){const e=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==e.address||null==e.address.errors?null:e.address.errors.pattern)}}function O(r,n){1&r&&(u.TgZ(0,"div",34),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437. "),u.qZA())}function E(r,n){if(1&r){const e=u.EpF();u.TgZ(0,"div",5)(1,"form",6)(2,"div",7)(3,"label",8),u._uU(4,"\u0418\u043c\u044f"),u.qZA(),u._UZ(5,"input",9),u.YNc(6,v,3,2,"div",10),u.qZA(),u.TgZ(7,"div",7)(8,"label",11),u._uU(9,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(10,"input",12),u.YNc(11,h,3,2,"div",10),u.qZA(),u.TgZ(12,"div",13)(13,"label",14),u._uU(14,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(15,"input",15),u.YNc(16,C,3,2,"div",10),u.qZA(),u.TgZ(17,"div",16)(18,"label",17),u._uU(19,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(20,"input",18),u.YNc(21,F,2,0,"div",10),u.qZA(),u.TgZ(22,"div",16)(23,"label",19),u._uU(24,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(25,"input",20),u.YNc(26,A,2,0,"div",10),u.qZA(),u.TgZ(27,"div",21)(28,"label",22),u._uU(29,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(30,"input",23),u.YNc(31,y,2,0,"div",10),u.qZA(),u.TgZ(32,"div",21)(33,"label",24),u._uU(34,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(35,"input",25),u.YNc(36,q,3,2,"div",10),u.qZA(),u.TgZ(37,"div",21)(38,"label",26),u._uU(39,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),u.qZA(),u._UZ(40,"textarea",27),u.qZA(),u.TgZ(41,"div",28)(42,"button",29),u.NdJ("click",function(){u.CHM(e);const d=u.oxw();return u.KtG(d.createOrder())}),u._uU(43," \u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c "),u.qZA(),u.YNc(44,O,2,0,"div",30),u.qZA()()()}if(2&r){const e=u.oxw();u.xp6(1),u.Q6J("formGroup",e.orderForm),u.xp6(5),u.Q6J("ngIf",(null==e.name?null:e.name.invalid)&&((null==e.name?null:e.name.dirty)||(null==e.name?null:e.name.touched))),u.xp6(5),u.Q6J("ngIf",(null==e.last_name?null:e.last_name.invalid)&&((null==e.last_name?null:e.last_name.dirty)||(null==e.last_name?null:e.last_name.touched))),u.xp6(5),u.Q6J("ngIf",(null==e.phone?null:e.phone.invalid)&&((null==e.phone?null:e.phone.dirty)||(null==e.phone?null:e.phone.touched))),u.xp6(5),u.Q6J("ngIf",(null==e.country?null:e.country.invalid)&&((null==e.country?null:e.country.touched)||(null==e.country?null:e.country.dirty))&&(null==e.country||null==e.country.errors?null:e.country.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.zip?null:e.zip.invalid)&&((null==e.zip?null:e.zip.touched)||(null==e.zip?null:e.zip.dirty))&&(null==e.zip||null==e.zip.errors?null:e.zip.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.product?null:e.product.invalid)&&((null==e.product?null:e.product.touched)||(null==e.product?null:e.product.dirty))&&(null==e.product||null==e.product.errors?null:e.product.errors.required)),u.xp6(5),u.Q6J("ngIf",(null==e.address?null:e.address.invalid)&&((null==e.address?null:e.address.dirty)||(null==e.address?null:e.address.touched))),u.xp6(6),u.Q6J("disabled",e.isLoading),u.xp6(2),u.Q6J("ngIf",e.isFailMessageVisible)}}function I(r,n){1&r&&(u.TgZ(0,"p",35),u._uU(1," \u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437! "),u.qZA())}const B=[{path:"",component:(()=>{class r{constructor(e,l,d){this.activatedRoute=e,this.productService=l,this.fb=d,this.orderForm=this.fb.group({name:["",[t.kI.required,t.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451]+$")]],last_name:["",[t.kI.required,t.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451]+$")]],phone:["",[t.kI.required,t.kI.pattern("^\\+?(\\d){11}$")]],country:["",t.kI.required],zip:["",t.kI.required],product:[{value:"",disabled:!0},t.kI.required],address:["",[t.kI.required,t.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u04510-9\\s-/]+$")]],comment:[""]}),this.subscriptionOrder=null,this.isLoading=!1,this.isSuccessMessageVisible=!1,this.isFailMessageVisible=!1}get name(){return this.orderForm.get("name")}get last_name(){return this.orderForm.get("last_name")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get zip(){return this.orderForm.get("zip")}get product(){return this.orderForm.get("product")}get address(){return this.orderForm.get("address")}ngOnInit(){const e=this.activatedRoute.snapshot.queryParamMap.get("product");e&&this.orderForm&&this.orderForm.patchValue({product:e})}ngOnDestroy(){this.subscriptionOrder?.unsubscribe()}showFail(){this.isFailMessageVisible=!0,setTimeout(()=>{this.isFailMessageVisible=!1},3e3)}createOrder(){this.orderForm.controls.name.value&&this.orderForm.controls.last_name.value&&this.orderForm.controls.phone.value&&this.orderForm.controls.country.value&&this.orderForm.controls.zip.value&&this.orderForm.controls.product.value&&this.orderForm.controls.address.value&&this.orderForm.valid?(this.isLoading=!0,this.subscriptionOrder=this.productService.createOrder({name:this.orderForm.controls.name.value,last_name:this.orderForm.controls.last_name.value,phone:this.orderForm.controls.phone.value,country:this.orderForm.controls.country.value,zip:this.orderForm.controls.zip.value,product:this.orderForm.controls.product.value,address:this.orderForm.controls.address.value,comment:this.orderForm.controls.comment.value}).subscribe({next:e=>{1===e.success&&(this.isSuccessMessageVisible=!0,this.orderForm.reset(),this.isLoading=!1)},error:()=>{this.showFail(),this.isLoading=!1}})):this.showFail()}}return r.\u0275fac=function(e){return new(e||r)(u.Y36(i.gz),u.Y36(c.M),u.Y36(t.qu))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-order"]],decls:6,vars:2,consts:[[1,"container","py-5"],[1,"pt-4","px-5","mx-auto"],[1,"fs-2","fw-bold","text-body-emphasis","text-center","mb-5"],["class","col-xl-6 col-lg-8 pt-3 mx-auto","id","order",4,"ngIf"],["class","text-body-emphasis text-center","id","order-success-message",4,"ngIf"],["id","order",1,"col-xl-6","col-lg-8","pt-3","mx-auto"],["novalidate","",1,"row","needs-validation",3,"formGroup"],[1,"col-md-4","col-sm-6","mt-3"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","placeholder","","value","",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","last_name","formControlName","last_name","placeholder","",1,"form-control"],[1,"col-md-4","col-sm-12","mt-3"],["for","phone",1,"form-label"],["type","text","id","phone","name","phone","formControlName","phone","placeholder","",1,"form-control"],[1,"col-sm-6","mt-3"],["for","country",1,"form-label"],["type","text","id","country","name","country","formControlName","country","placeholder","",1,"form-control"],["for","index",1,"form-label"],["type","text","id","index","name","zip","formControlName","zip","placeholder","","mask","000000",1,"form-control"],[1,"col-12","mt-3"],["for","product",1,"form-label"],["type","text","id","product","name","product","formControlName","product","placeholder","",1,"form-control"],["for","address",1,"form-label"],["type","text","id","address","name","address","formControlName","address","placeholder","",1,"form-control"],["for","comment",1,"form-label"],["id","comment","name","comment","formControlName","comment","placeholder","",1,"form-control"],[1,"mt-4"],["id","create-order","type","button",1,"btn","btn-primary","px-5",3,"disabled","click"],["class","invalid-feedback","id","order-fail-message",4,"ngIf"],[1,"invalid-feedback"],["class","text-danger",4,"ngIf"],[1,"text-danger"],["id","order-fail-message",1,"invalid-feedback"],["id","order-success-message",1,"text-body-emphasis","text-center"]],template:function(e,l){1&e&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),u._uU(3,"\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437"),u.qZA(),u.YNc(4,E,45,10,"div",3),u.YNc(5,I,2,0,"p",4),u.qZA()()),2&e&&(u.xp6(4),u.Q6J("ngIf",!l.isSuccessMessageVisible),u.xp6(1),u.Q6J("ngIf",l.isSuccessMessageVisible))},dependencies:[a.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],styles:["input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}"]}),r})()}];let m=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[i.Bz.forChild(B),i.Bz]}),r})();var U=o(4466);let N=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[c.M],imports:[a.ez,U.m,i.Bz,t.u5,t.UX,m,m]}),r})()}}]);