"use strict";(self.webpackChunktea_collections_gp=self.webpackChunktea_collections_gp||[]).push([[441],{8441:(P,p,n)=>{n.r(p),n.d(p,{ProductsModule:()=>x});var s=n(6895),u=n(646),d=n(5577),m=n(8505),t=n(8256),c=n(773);const g=function(e){return["/catalog",e]},h=function(e){return{product:e}};let f=(()=>{class e{constructor(){this.product={id:0,image:"",title:"",description:"",price:0}}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["product-card"]],inputs:{product:"product"},decls:14,vars:9,consts:[[1,"p-2","h-100"],[1,"col","h-100","d-flex","flex-column","mt-0","p-0","border","border-light-subtle","rounded-1","m-1","mt-1"],["href","./assets/images/tea-collection/image-1.png",1,"product__image"],["alt","Image 1",1,"d-block","w-100",3,"src"],[1,"h-100","p-4","h-50","d-flex","flex-column","align-items-start"],[1,"fs-5","text-body-emphasis","mb-3"],[1,"mb-4","h-100"],[1,"btn","btn-primary","px-5",3,"routerLink"],["routerLink","/order","routerLinkActive","active",1,"btn","btn-outline-primary","px-5","mt-2",3,"queryParams"],[1,"px-3"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"h3",5),t._uU(6),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.qZA(),t.TgZ(9,"a",7),t._uU(10," \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 "),t.qZA(),t.TgZ(11,"a",8)(12,"span",9),t._uU(13,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()()),2&o&&(t.xp6(3),t.s9C("src",r.product.image,t.LSH),t.xp6(3),t.Oqu(r.product.title),t.xp6(2),t.Oqu(r.product.description),t.xp6(1),t.Q6J("routerLink",t.VKq(5,g,r.product.id)),t.xp6(2),t.Q6J("queryParams",t.VKq(7,h,r.product.title)))},dependencies:[u.yS,u.Od]}),e})();function v(e,i){1&e&&t._UZ(0,"product-card",6),2&e&&t.Q6J("product",i.$implicit)}function C(e,i){1&e&&(t.TgZ(0,"div",7),t._UZ(1,"div",8),t.qZA())}let b=(()=>{class e{constructor(o,r,a){this.productService=o,this.router=r,this.activatedRoute=a,this.products=[],this.searchValue="",this.catalogTitle="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438",this.loading=!1,this.subscription=null}ngOnInit(){this.subscription=this.activatedRoute.queryParams.pipe((0,d.z)(o=>(this.searchValue=o.search,this.loading=!0,this.productService.getProducts(this.searchValue))),(0,m.b)(()=>{this.loading=!1})).subscribe({next:o=>{this.products=o,this.setCatalogTitle()},error:o=>{console.log(o),this.router.navigate(["/"])}})}ngOnDestroy(){this.subscription?.unsubscribe()}setCatalogTitle(){this.searchValue||0===this.products.length?this.searchValue&&0===this.products.length?this.catalogTitle="\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e":this.searchValue&&0!==this.products.length&&(this.catalogTitle='\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 "'+this.searchValue+'"'):this.catalogTitle="\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.M),t.Y36(u.F0),t.Y36(u.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-catalog"]],decls:7,vars:3,consts:[[1,"container","py-5"],[1,"pt-4","pb-3"],[1,"fs-2","fw-bold","text-body-emphasis","text-center","mb-4"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","justify-content-center","pt-3"],[3,"product",4,"ngFor","ngForOf"],["class","loader-bg",4,"ngIf"],[3,"product"],[1,"loader-bg"],[1,"loader"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3),t.qZA(),t.TgZ(4,"div",3),t.YNc(5,v,1,1,"product-card",4),t.qZA()(),t.YNc(6,C,2,0,"div",5),t.qZA()),2&o&&(t.xp6(3),t.Oqu(r.catalogTitle),t.xp6(2),t.Q6J("ngForOf",r.products),t.xp6(1),t.Q6J("ngIf",r.loading))},dependencies:[s.sg,s.O5,f]}),e})();var Z=n(515);const y=[{path:"",component:b},{path:":id",component:(()=>{class e{constructor(o,r,a){this.activatedRoute=o,this.productService=r,this.router=a,this.subscription=null,this.product={id:0,image:"",title:"",description:"",price:0}}ngOnInit(){this.subscription=this.activatedRoute.params.pipe((0,d.z)(o=>(o.id&&this.productService.getProduct(+o.id),Z.E))).subscribe({next:o=>{o&&(this.product=o)},error:o=>{this.router.navigate(["/"])}})}ngOnDestroy(){this.subscription?.unsubscribe()}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(u.gz),t.Y36(c.M),t.Y36(u.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:15,vars:4,consts:[[1,"container","py-5"],[1,"p-2","h-100"],[1,"col","h-100","d-flex","flex-column","mt-0","p-0"],["href","./assets/images/tea-collection/image-1.png",1,"product__image","text-center"],["alt","Image 1",1,"d-inline-block","w-25",3,"src"],[1,"h-100","p-4","h-50","d-flex","flex-column","align-items-center"],[1,"fs-5","text-body-emphasis","mb-3"],[1,"mb-4","h-100"],[1,"mb-4"],["routerLink","/order","routerLinkActive","active",1,"btn","btn-outline-primary","px-5","mt-2"],[1,"px-3"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5)(6,"h3",6),t._uU(7),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.qZA(),t.TgZ(10,"p",8),t._uU(11),t.qZA(),t.TgZ(12,"a",9)(13,"span",10),t._uU(14,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()()()),2&o&&(t.xp6(4),t.s9C("src",r.product.image,t.LSH),t.xp6(3),t.Oqu(r.product.title),t.xp6(2),t.Oqu(r.product.description),t.xp6(2),t.hij("\u0426\u0435\u043d\u0430: ",r.product.price," \u0440\u0443\u0431\u043b\u0435\u0439 \u0437\u0430 100 \u0433\u0440\u0430\u043c\u043c"))},dependencies:[u.yS,u.Od]}),e})()}];let l=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[u.Bz.forChild(y),u.Bz]}),e})();var T=n(4466);let x=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[c.M],imports:[s.ez,l,T.m,u.Bz,l]}),e})()}}]);